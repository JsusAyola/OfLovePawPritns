<div class="form-container">
  <h2>Formulario de Predicción</h2>

  <form [formGroup]="predictionForm" (ngSubmit)="onSubmit()">

    <!-- Tipo de mascota -->
    <mat-form-field appearance="fill">
      <mat-label>Tipo de mascota</mat-label>
      <mat-select formControlName="type">
        <mat-option *ngFor="let type of animalTypes" [value]="type">{{ type }}</mat-option>
      </mat-select>
    </mat-form-field>

    <!-- Raza -->
    <mat-form-field appearance="fill">
      <mat-label>Raza</mat-label>
      <mat-select formControlName="breed">
        <mat-option *ngFor="let breed of breeds" [value]="breed">{{ breed }}</mat-option>
      </mat-select>
    </mat-form-field>

    <!-- Sexo -->
    <mat-form-field appearance="fill">
      <mat-label>Sexo</mat-label>
      <mat-select formControlName="sex">
        <mat-option *ngFor="let sex of sexes" [value]="sex">{{ sex }}</mat-option>
      </mat-select>
    </mat-form-field>

    <!-- Tamaño -->
    <mat-form-field appearance="fill">
      <mat-label>Tamaño</mat-label>
      <mat-select formControlName="size">
        <mat-option *ngFor="let size of sizes" [value]="size">{{ size }}</mat-option>
      </mat-select>
    </mat-form-field>

    <!-- Peso -->
    <mat-form-field appearance="fill">
      <mat-label>Peso</mat-label>
      <mat-select formControlName="weight">
        <mat-option *ngFor="let weight of weights" [value]="weight">{{ weight }}</mat-option>
      </mat-select>
    </mat-form-field>

    <!-- Vacunas -->
    <mat-form-field appearance="fill">
      <mat-label>Vacunas</mat-label>
      <mat-select formControlName="vaccines">
        <mat-option *ngFor="let vaccine of vaccines" [value]="vaccine">{{ vaccine }}</mat-option>
      </mat-select>
    </mat-form-field>

    <!-- Esterilizado -->
    <mat-form-field appearance="fill">
      <mat-label>Esterilizado</mat-label>
      <mat-select formControlName="sterilized">
        <mat-option *ngFor="let option of yesNoOptions" [value]="option">{{ option }}</mat-option>
      </mat-select>
    </mat-form-field>

    <!-- Nivel de Actividad -->
    <mat-form-field appearance="fill">
      <mat-label>Nivel de Actividad</mat-label>
      <mat-select formControlName="activityLevel">
        <mat-option *ngFor="let level of activityLevels" [value]="level">{{ level }}</mat-option>
      </mat-select>
    </mat-form-field>

    <!-- Comportamiento con Personas -->
    <mat-form-field appearance="fill">
      <mat-label>Comportamiento con Personas</mat-label>
      <mat-select formControlName="behaviorPeople">
        <mat-option *ngFor="let behavior of behaviors" [value]="behavior">{{ behavior }}</mat-option>
      </mat-select>
    </mat-form-field>

    <!-- Comportamiento con Animales -->
    <mat-form-field appearance="fill">
      <mat-label>Comportamiento con Animales</mat-label>
      <mat-select formControlName="behaviorAnimals">
        <mat-option *ngFor="let behavior of behaviors" [value]="behavior">{{ behavior }}</mat-option>
      </mat-select>
    </mat-form-field>

    <!-- Estado de Aprobación -->
    <mat-form-field appearance="fill">
      <mat-label>Estado de Aprobación</mat-label>
      <mat-select formControlName="approvalStatus">
        <mat-option *ngFor="let status of ['aprobada', 'pendiente', 'rechazada']" [value]="status">{{ status }}</mat-option>
      </mat-select>
    </mat-form-field>

    <!-- Estado -->
    <mat-form-field appearance="fill">
      <mat-label>Estado</mat-label>
      <mat-select formControlName="status">
        <mat-option *ngFor="let status of ['disponible', 'adoptado', 'fallecido']" [value]="status">{{ status }}</mat-option>
      </mat-select>
    </mat-form-field>

    <!-- Condiciones Médicas -->
    <mat-form-field appearance="fill">
      <mat-label>Condiciones Médicas</mat-label>
      <mat-select formControlName="medicalConditions">
        <mat-option *ngFor="let condition of medicalConditions" [value]="condition">{{ condition }}</mat-option>
      </mat-select>
    </mat-form-field>

    <!-- Alergias -->
    <mat-form-field appearance="fill">
      <mat-label>Alergias</mat-label>
      <mat-select formControlName="allergies">
        <mat-option *ngFor="let allergy of allergies" [value]="allergy">{{ allergy }}</mat-option>
      </mat-select>
    </mat-form-field>

    <!-- Confirmación de Propiedad -->
    <mat-form-field appearance="fill">
      <mat-label>Confirmación de Propiedad</mat-label>
      <mat-select formControlName="ownershipConfirmation">
        <mat-option *ngFor="let option of yesNoOptions" [value]="option">{{ option }}</mat-option>
      </mat-select>
    </mat-form-field>

    <!-- Botón de envío -->
    <button mat-raised-button color="primary" type="submit" [disabled]="predictionForm.invalid || isLoading">
      {{ isLoading ? 'Procesando...' : 'Predecir' }}
    </button>
  </form>

  <!-- Error -->
  <div *ngIf="errorMessage" class="error-message">
    {{ errorMessage }}
  </div>

  <!-- Resultado de la predicción -->
  <div *ngIf="predictionResult" class="result-container">
    <h3>Resultado:</h3>
    <p>{{ predictionResult.message }}</p>
  </div>
</div>
